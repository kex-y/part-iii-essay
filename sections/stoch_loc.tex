We will in this section provide a description of the stochastic localisation scheme introduced by 
Eldan \cite{Eldan_2013} and describe its application in reducing (up to a logarithmic factor) the 
KLS conjecture into the thin-shell conjecture, i.e. we will describe a proof of \ref{thm:KLS_to_TS}.

% As a broad overview, we will construct a sequence of measure-valued random variables which converges 
% weakly to the a Dirac measure. Then 


\subsection{Construction and basic properties}

\begin{definition}[Barycenter]
  Given a (probability) measure \(\mu\) on \(\mathbb{R}^n\), we define 
  its barycenter with respect to the function \(F : \mathbb{R}^n \to \mathbb{R}\) to be
  \[\bar{\mu}(F) := \int_{\mathbb{R}^n} x F(x) \mu(\dd x).\]
\end{definition}

Given the above definition, we now define the following construction central to the stochastic 
localisation scheme. Let \((W_t)_{t \ge 0}\) be a Wiener process, we define the random functions 
\((F_t)_{t \ge 0}\) to be the solution of the following infinite system of SDEs: 
\begin{equation}\label{eq:stoch_loc}
  F_0 = 1, \dd F_t(x) = \langle x - \bar{\mu}(F_t), \dd W_t \rangle F_t(x),
\end{equation}
for all \(x \in \mathbb{R}^n\). We shall from this point forward denote the random variables 
\(a_t := \bar{\mu}(F_t)\).\todo{Existence and uniqueness of \(F\).}

By applying Itô's formula, we make the following useful observation: for all \(x \in \mathbb{R}^n\),
\begin{equation}
  \dd \log F_t(x) = \frac{\dd F_t(x)}{F_t(x)} - \frac{\dd\hspace{0pt} [F(x)]_t}{2F_t(x)^2} 
    = \langle x - a_t, \dd W_t \rangle - \frac{1}{2}\|x - a_t\|^2 \dd t
\end{equation}
where the second equality follows by the construction of \(F\). Hence, as \(\log F_0(x) = 0\), we 
observe
\begin{align*}
  \log F_t(x) & = \int_0^t \langle x - a_s, \dd W_s \rangle - \frac{1}{2}\int_0^t \|x - a_s\|^2 \dd s\\
    & = \left(\langle x, W_t \rangle - \int_0^t \langle a_s, \dd W_s \rangle\right)
      - \left(\frac{t}{2}\|x\|^2 + \frac{1}{2}\int_0^t\|a_s\|^2 \dd s - \int_0^t \langle x, a_s \rangle \dd s\right)\\
    & = - \left(\int_0^t \langle a_s, \dd W_s \rangle + \frac{1}{2}\|a_s\|^2 \dd s\right) + 
      \langle x, a_t + W_t \rangle - \frac{t}{2}\|x\|^2.
\end{align*}
Thus, taking \(\dd z_t := \langle a_t, \dd W_t\rangle + \frac{1}{2} \|a_t\|^2 \dd t\) and 
\(v_t := a_t + W_t\), we observe \(F_t(x)\) is of the form
\begin{equation}\label{eq:stoch_loc_alt}
  F_t(x) = e^{z_t + \langle x, v_t \rangle - \frac{t}{2}\|x\|^2},
\end{equation}
for given Itô processes \((z_t), (v_t)\).\todo{Is \(e^{z_t + \langle x, v_t \rangle}\) itself a Itô process?}
With this formulation of \(F_t(x)\) in mind, it follows \(F_t\) is non-negative, and so, 
we may define the measure-valued random variable \(\mu_t\) such that \(\mu_t = F_t \mu\), i.e. they have
Radon-Nikodym derivative \(\dd \mu_t / \dd \mu = F_t\).

\begin{proposition}
  For all \(t \ge 0\), \(\mu_t\) is a probability measure almost everywhere (a.e.), i.e. \(\mathbb{P}(\mu_t(\mathbb{R}^n) = 1) = 1\).
\end{proposition}
\begin{proof}
  As \(\mu\) is a probability measure, it suffices to show \(\partial_t \mu_t(\mathbb{R}^n) = 0\).
  To prove this, we first consider the discrete stochastic integral on the lattice \(\Lambda = \mathbb{Z}^n \dd t\)
  for some \(\dd t > 0\). Then, constructing \(\mu_t^{\dd t}\) on \(\Lambda\) via the same process as \(\mu_t\),
  for all \(t = k \dd t \in \Lambda\),
  \begin{align*}
    \partial_t \mu_t^{\dd t}(\mathbb{R}^n) 
      & = \int_{\mathbb{R}^n} \dd F_t(x) \mu(\dd x) 
        = \int_{\mathbb{R}^n} \langle x - a_t, \dd W_t\rangle F_t(x) \mu(\dd x)\\
      & = \left\langle \int_{\mathbb{R}^n} (x - a_t) F_t(x)\mu(\dd x), \dd W_t \right\rangle
        = \langle a_t - a_t\mu_t(\mathbb{R}^n), \dd W_t \rangle = 0
  \end{align*}
  by induction on \(k\). However, by the very construction of the stochastic integral, the densities 
  of \(\mu_t^{\dd t}\): \(F_t^{\dd t}\) converges a.e. to \(F_t\) as \(\dd t \to 0\) implying 
  \(\mu_t^{\dd t} \to \mu_t\) weakly and so, \(\mu_t^{\dd t}(\mathbb{R}^n) \to \mu_t(\mathbb{R}^n)\)
  resulting in \(\mu_t(\mathbb{R}^n) = 1\) as required.
\end{proof}

We would also like to study the limiting behavior of \((\mu_t)\) as \(t \to \infty\). To achieve this, 
we will consider the covariance matrices
\begin{equation}
  A_t := \text{Cov}[\mu_t] = \int (x - a_t) \otimes (x - a_t) \mu_t(\dd x),
\end{equation}
where \(\otimes\) denotes the Kronecker product. In particular, we will show \((A_t)_{ij} \to 0\) for all
 \(i, j \in \{1, \cdots, n\}\) as \(t \to \infty\) allowing us to conclude \((\mu_t)\) converges weakly 
 to some Dirac measure. Indeed, this is a direct consequence of the following lemma.

\begin{lemma}[Brascamp-Lieb inequality, \cite{Brascamp_1976}]\label{lem:brascamp-lieb}
  Given \(V : \mathbb{R}^n \to \mathbb{R}\) convex and \(K > 0\), if \(\nu\) is an isotropic probability 
  measure on \(\mathbb{R}^n\) of the form 
  \[\dd \nu = Ze^{-V(x) - \frac{1}{2K}\|x\|^2}\dd \text{Leb}^n\]
  with \(Z\) being the normalization constant, then \(\nu\) satisfy the Poincaré inequality, i.e. 
  for all differentiable \(\phi\),
  \[K\text{Var}_\nu[\phi] \le \int \|\nabla\phi\|^2 \dd\nu.\]
\end{lemma}

\begin{proof}[Proof of lemma \ref{lem:brascamp-lieb}]
  TODO.
\end{proof}

With this lemma in mind, by taking \(\nu = \mu_t\) using equation \ref{eq:stoch_loc_alt} and defining
\(\phi_{ij}(x) := x_i x_j\), we obtain
\[(A_t)_{ij} = \text{Var}_{\mu_t}[\phi_{ij}] \le t^{-1} \int \|\nabla \phi_{ij}\|^2 \dd \mu_t.\]
Then, again using equation~\ref{eq:stoch_loc_alt}, we note that any realizations of \((F_t)\) is decreasing 
in \(t\). Hence, we have for all \(t \ge 1\), \(\int \|\nabla \phi_{ij}\|^2 \dd \mu_t = 
\int (x_i^2 + x_j^2) \mu_t(\dd x) \le \int (x_i^2 + x_j^2) \mu_1 (\dd x) < \infty\). Thus, by 
taking \(t \to \infty\) we have \((A_t)_{ij} \to 0\) for all \(i, j \in \{1, \cdots, n\}\) as claimed.

\begin{corollary}
  \((\mu_t)\) converges weakly to some Dirac measure almost everywhere.
\end{corollary}

To find the massive point of this limiting Dirac measure \(\delta_{a_\infty}\), we observe 
\todo{This derivation requires uniform boundedness of \(a_t\); remark: weak convergence to Dirac measure 
implies convergence in probability}
\[a_t = \int x \mu_t(\dd x) \to \int x \delta_{a_\infty}(\dd x) = a_\infty \text{ as } t \to \infty\]
implying that \(a_t\) converges a.e. to \(a_\infty\) as \(t \to \infty\). Furthermore, 
taking \(\phi : \mathbb{R}^n \to \mathbb{R}\) to be any bounded continuous function, we have
\[\int \phi(x) \mu(\dd x) = \lim_{t \to \infty} \int \phi(x) \mu_t(\dd x).\]
Then, taking expectation on both sides, we obtain
\begin{align*}
  \int \phi(x) \mu(\dd x) & = \mathbb{E}\left[\lim_{t \to \infty} \int \phi(x) \mu_t(\dd x)\right] & \\
  & = \lim_{t \to \infty} \mathbb{E}\left[\int \phi(x) \mu_t(\dd x)\right] & (\text{Dominated convergence})\\
  & = \lim_{t \to \infty} \mathbb{E}[\phi(a_t)] & (\text{LOTUS. theorem})\\
  & = \mathbb{E}[\phi(a_\infty)]. & (\text{Dominated convergence \& continuity of } \phi)
\end{align*}
Thus, \(\mathbb{E}_\mu[\phi] = \mathbb{E}[\phi(a_\infty)]\) for all bounded continuous \(\phi\) implying 
\(a_\infty \sim \mu\).

\begin{proposition}
  For all \(x \in \mathbb{R}^n\), \((F_t(x))_{t \ge 0}\) is a martingale. Furthermore, for any 
  integrable \(\phi : \mathbb{R}^n \to \mathbb{R}^n\), defining the process 
  \(M_t := \int \phi \dd \mu_t\), \((M_t)_{t \ge 0}\) is also a martingale.
\end{proposition}
\begin{proof}
  By its very construction, \((F_t(x))\) is a martingale by observing equation \ref{eq:stoch_loc} has no 
  drift term.
  
  Now, for all \(s \le t\) we have
  \begin{align*}
    \mathbb{E}[M_t \mid \mathscr{F}_s] 
    & = \mathbb{E}\left[\int \phi(x) F_t(x) \mu(\dd x) \middle\vert \mathscr{F}_s\right]\\
    & = \int \phi(x) \mathbb{E}[F_t(x) \mid \mathscr{F}_s] \mu(\dd x) 
    = \int \phi(x) F_s(x) \mu(\dd x)
    = M_s
  \end{align*}
  implying \((M_t)\) is also a martingale.
\end{proof}


